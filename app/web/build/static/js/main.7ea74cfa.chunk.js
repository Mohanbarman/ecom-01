(this["webpackJsonp@app/web"]=this["webpackJsonp@app/web"]||[]).push([[0],{306:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"signIn",(function(){return ce})),r.d(n,"signUp",(function(){return ie})),r.d(n,"getMe",(function(){return se})),r.d(n,"logout",(function(){return oe})),r.d(n,"getAllProducts",(function(){return le})),r.d(n,"getProductById",(function(){return ue})),r.d(n,"createOrder",(function(){return de})),r.d(n,"getMyOrders",(function(){return je})),r.d(n,"getOrder",(function(){return pe}));var a,c,i,s,o,l,u,d,j,p,b,x,O,h,m,f,v,g,y,w,S,k,P,C=r(15),N=r(26),I=r(363),T=r(163),D=Object(T.a)({palette:{primary:{main:"#2C7FFF"}}}),U=r(13),B=r(14),A=Object(B.a)(a||(a=Object(U.a)(["\n  * {\n    padding: 0px;\n    margin: 0px;\n    box-sizing: border-box;\n  }\n\n  body {\n    background-color: white;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  a, a:visited, a:hover, a:active {\n    color: inherit;\n  }\n"]))),E=r(0),F=r.n(E),L=r(22),M=r(6),q=r.n(M),G=r(11),H=r(9),z=r(93),R=r(364),W=r(352),_=r(365),J=r(35),K=r(68),Q=B.b.div(c||(c=Object(U.a)(["\n  min-height: calc(100vh - 100px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),X=B.b.div(i||(i=Object(U.a)(["\n  padding: 30px;\n  border-radius: 10px;\n  width: 100%;\n  max-width: 500px;\n"]))),V=B.b.div(s||(s=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),Y=r(44),Z=Y.c().trim().required("This field is required"),$=Y.a().typeError("This fields must be a number").required("This field is required"),ee=Y.c().trim().email("Email is not valid").required("This field is required"),te=Y.b().shape({firstName:Z,email:ee,password:Y.c().trim().min(8,"Password must be greater than 8 characters").max(20,"Password Must be smaller than 20 characters").required("This field is required")}),re=Y.b().shape({email:ee,password:Z}),ne=r(154),ae=r.n(ne).a.create({baseURL:"/api/",withCredentials:!0}),ce=function(){var e=Object(G.a)(q.a.mark((function e(t,r){var n,a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post("/user/signIn",{email:t,password:r});case 3:return n=e.sent,e.abrupt("return",{data:n.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.error)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),ie=function(){var e=Object(G.a)(q.a.mark((function e(t){var r,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post("/user/signUp",t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(G.a)(q.a.mark((function e(){var t,r,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/user/me");case 3:return t=e.sent,e.abrupt("return",{data:t.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(G.a)(q.a.mark((function e(){var t,r,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/user/logout");case 3:return t=e.sent,e.abrupt("return",{data:t.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(G.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/products");case 3:return t=e.sent,e.abrupt("return",{data:t.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(G.a)(q.a.mark((function e(t){var r,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/products/".concat(t));case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(G.a)(q.a.mark((function e(t){var r,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post("/orders",t);case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(G.a)(q.a.mark((function e(){var t,r,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/orders");case 3:return t=e.sent,e.abrupt("return",{data:t.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(G.a)(q.a.mark((function e(t){var r,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/orders/".concat(t));case 3:return r=e.sent,e.abrupt("return",{data:r.data.data,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),be=r(59),xe=r(2),Oe=Object(E.createContext)({}),he=function(e){var t=Object(E.useState)(""),r=Object(H.a)(t,2),n=r[0],a=r[1],c=Object(E.useState)(!1),i=Object(H.a)(c,2),s=i[0],o=i[1],l=Object(E.useState)("info"),u=Object(H.a)(l,2),d=u[0],j=u[1];return Object(xe.jsx)(Oe.Provider,Object(be.a)({value:{isOpen:s,message:n,severity:d,open:function(e,t){j(t),a(e),o(!0)},close:function(){o(!1),j("info"),a("")}}},e))},me=Object(E.createContext)({}),fe=function(e){var t=Object(E.useState)(),r=Object(H.a)(t,2),a=r[0],c=r[1],i=Object(E.useState)("loading"),s=Object(H.a)(i,2),o=s[0],l=s[1],u=Object(E.useContext)(Oe).open,d=Object(L.f)(),j=function(){var e=Object(G.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.logout();case 2:if(t=e.sent,!t.error){e.next=6;break}return e.abrupt("return");case 6:c(void 0),l("unauthenticated"),null===u||void 0===u||u("Logged out successfully","warning"),d.push("/");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(G.a)(q.a.mark((function e(){var t,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("loading"),e.next=3,n.getMe();case 3:if(t=e.sent,!(r=t.data)){e.next=9;break}return l("authenticated"),c(r),e.abrupt("return",-1);case 9:l("unauthenticated");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.useEffect)((function(){p()}),[]),Object(xe.jsx)(me.Provider,Object(be.a)({value:{user:a,logout:j,authStatus:o,refetchUser:p}},e))},ve=function(){var e,t,r=Object(J.d)({resolver:Object(K.a)(re)}),a=r.register,c=r.handleSubmit,i=r.formState.errors,s=r.setError,o=Object(E.useState)(!1),l=Object(H.a)(o,2),u=l[0],d=l[1],j=Object(L.f)(),p=Object(E.useContext)(me).refetchUser,b=Object(E.useContext)(Oe).open,x=function(){var e=Object(G.a)(q.a.mark((function e(t){var r,a,c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,d(!0),e.next=4,n.signIn(r,a);case 4:if(c=e.sent,i=c.error){e.next=11;break}return j.goBack(),null===b||void 0===b||b("Logged in successfully","success"),null===p||void 0===p||p(),e.abrupt("return");case 11:"AUTH_FAILED"===(null===i||void 0===i?void 0:i.code)&&(s("email",{type:"manual",message:i.message}),d(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(xe.jsx)(Q,{children:Object(xe.jsxs)(X,{children:[Object(xe.jsx)(z.a,{style:{marginBottom:"50px",textAlign:"center"},variant:"h5",children:"Sign In"}),Object(xe.jsx)("form",{onSubmit:c(x),children:Object(xe.jsxs)(V,{children:[Object(xe.jsx)(R.a,{variant:"outlined",color:"primary",label:"Email",placeholder:"username@domain.com",name:"email",helperText:(null===(e=i.email)||void 0===e?void 0:e.message)||"",error:!!i.email,inputProps:a("email")}),Object(xe.jsx)(R.a,{variant:"outlined",color:"primary",label:"Password",type:"password",placeholder:"************",helperText:null===(t=i.password)||void 0===t?void 0:t.message,error:!!i.password,name:"password",inputProps:a("password")}),Object(xe.jsx)(W.a,{disabled:u,type:"submit",color:"primary",variant:"contained",children:u?"Please wait...":"Sign In"}),Object(xe.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",children:[Object(xe.jsx)(z.a,{variant:"caption",color:"textSecondary",children:"Don't have an account ?"}),Object(xe.jsx)(W.a,{onClick:function(){return j.push("/signUp")},size:"small",children:Object(xe.jsx)(z.a,{variant:"caption",color:"primary",children:"Sign Up"})})]})]})})]})})},ge=function(){var e,t,r,a,c=Object(J.d)({resolver:Object(K.a)(te)}),i=c.register,s=c.handleSubmit,o=c.formState.errors,l=c.setError,u=Object(E.useState)(!1),d=Object(H.a)(u,2),j=d[0],p=d[1],b=Object(L.f)(),x=Object(E.useContext)(me),O=x.refetchUser;x.user&&b.push("/");var h=function(){var e=Object(G.a)(q.a.mark((function e(t){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,n.signUp(t);case 3:r=e.sent,a=r.error,null===O||void 0===O||O(),a||b.push("/"),"EMAIL_EXISTS"===(null===a||void 0===a?void 0:a.code)&&l("email",{type:"manual",message:a.message}),p(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(xe.jsx)(Q,{children:Object(xe.jsxs)(X,{children:[Object(xe.jsx)(z.a,{style:{marginBottom:"50px",textAlign:"center"},variant:"h5",children:"Sign In"}),Object(xe.jsx)("form",{onSubmit:s(h),children:Object(xe.jsxs)(V,{children:[Object(xe.jsx)(R.a,{variant:"outlined",color:"primary",label:"First Name",placeholder:"John",helperText:(null===(e=o.firstName)||void 0===e?void 0:e.message)||"",error:!!o.firstName,inputProps:i("firstName")}),Object(xe.jsx)(R.a,{variant:"outlined",color:"primary",label:"Last Name",placeholder:"Doe",helperText:(null===(t=o.lastName)||void 0===t?void 0:t.message)||"",error:!!o.lastName,inputProps:i("lastName")}),Object(xe.jsx)(R.a,{variant:"outlined",color:"primary",label:"Email",placeholder:"username@domain.com",helperText:(null===(r=o.email)||void 0===r?void 0:r.message)||"",error:!!o.email,inputProps:i("email")}),Object(xe.jsx)(R.a,{variant:"outlined",color:"primary",label:"Password",type:"password",placeholder:"************",helperText:null===(a=o.password)||void 0===a?void 0:a.message,error:!!o.password,inputProps:i("password")}),Object(xe.jsx)(W.a,{disabled:j,type:"submit",color:"primary",variant:"contained",children:j?"Please wait...":"Sign Up"}),Object(xe.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",children:[Object(xe.jsx)(z.a,{variant:"caption",color:"textSecondary",children:"Already have an account ?"}),Object(xe.jsx)(W.a,{onClick:function(){return b.push("/signIn")},size:"small",children:Object(xe.jsx)(z.a,{variant:"caption",color:"primary",children:"Sign In"})})]})]})})]})})},ye=r(39),we=r(359),Se=r(358),ke=r(354),Pe=r(369),Ce=r(368),Ne=r(361),Ie=r(351),Te=r(355),De=r(356),Ue=r(357),Be=r(157),Ae=r.n(Be),Ee=r(156),Fe=r.n(Ee),Le=r(159),Me=r.n(Le),qe=r(158),Ge=r.n(qe),He=r(160),ze=r.n(He),Re=r(162),We=r.n(Re),_e=r(360),Je=r(353),Ke=r(371),Qe=r(23),Xe=function(){return Object(xe.jsx)(Ve,{to:"/",children:Object(xe.jsx)(Ye,{variant:"h6",children:"SQUARE-KART"})})},Ve=Object(B.b)(N.b)(o||(o=Object(U.a)(["\n  text-decoration: none;\n"]))),Ye=Object(B.b)(z.a)(l||(l=Object(U.a)(["\n  color: white;\n  text-decoration: none;\n"]))),Ze=r(372),$e=240,et=Object(Je.a)((function(e){return Object(Ke.a)({root:{display:"flex"},drawer:Object(ye.a)({},e.breakpoints.up("sm"),{width:$e,flexShrink:0}),appBar:Object(ye.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat($e,"px)"),marginLeft:$e}),menuButton:Object(ye.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:$e},content:{flexGrow:1,padding:e.spacing(3),position:"relative",minHeight:"calc(100vh - 60px)"}})})),tt=function(e){var t=e.window,r=et(),n=Object(Qe.a)(),a=F.a.useState(!1),c=Object(H.a)(a,2),i=c[0],s=c[1],o=Object(E.useContext)(me),l=o.authStatus,u=o.user,d=o.logout,j=Object(L.f)(),p=function(){s(!i)},b=function(e){return function(){("unauthenticated"!==l||(j.push("/signIn"),0))&&j.push(e)}},x=Object(xe.jsxs)("div",{children:[Object(xe.jsx)("div",{className:r.toolbar}),Object(xe.jsx)(ke.a,{}),Object(xe.jsxs)(Ie.a,{children:[Object(xe.jsxs)(Te.a,{button:!0,onClick:b("/orders"),children:[Object(xe.jsx)(De.a,{children:Object(xe.jsx)(Fe.a,{})}),Object(xe.jsx)(Ue.a,{primary:"Orders"})]}),Object(xe.jsxs)(Te.a,{button:!0,children:[Object(xe.jsx)(De.a,{children:Object(xe.jsx)(Ae.a,{})}),Object(xe.jsx)(Ue.a,{primary:"Wishlist"})]}),u&&Object(xe.jsxs)(Te.a,{button:!0,onClick:d,children:[Object(xe.jsx)(De.a,{children:Object(xe.jsx)(Ge.a,{})}),Object(xe.jsx)(Ue.a,{primary:"Logout"})]})]})]}),O=void 0!==t?function(){return t().document.body}:void 0;return Object(xe.jsxs)("div",{className:r.root,children:[Object(xe.jsx)(Se.a,{}),Object(xe.jsx)(we.a,{position:"fixed",elevation:0,className:r.appBar,children:Object(xe.jsxs)(_e.a,{children:[Object(xe.jsx)(Ne.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:p,className:r.menuButton,children:Object(xe.jsx)(Me.a,{})}),Object(xe.jsx)(Xe,{}),Object(xe.jsx)(Ne.a,{onClick:b("/cart"),style:{marginLeft:"auto",color:"white"},children:Object(xe.jsx)(ze.a,{})}),(null===u||void 0===u?void 0:u.email)&&Object(xe.jsx)(Ze.a,{title:"Logged in as ".concat(u.email),children:Object(xe.jsx)(Ne.a,{style:{color:"white"},children:Object(xe.jsx)(We.a,{})})})]})}),Object(xe.jsxs)("nav",{className:r.drawer,"aria-label":"mailbox folders",children:[Object(xe.jsx)(Ce.a,{smUp:!0,implementation:"css",children:Object(xe.jsx)(Pe.a,{container:O,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:i,onClose:p,classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:x})}),Object(xe.jsx)(Ce.a,{xsDown:!0,implementation:"css",children:Object(xe.jsx)(Pe.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:x})})]}),Object(xe.jsxs)("main",{className:r.content,children:[Object(xe.jsx)("div",{className:r.toolbar}),e.children]})]})},rt=r(362),nt=function(){return Object(xe.jsx)(at,{color:"primary"})},at=Object(B.b)(rt.a)(u||(u=Object(U.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  translate: -50% -50%;\n"]))),ct=r.p+"static/media/error.462ed477.svg",it=function(e){var t=e.message;return Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(xe.jsx)(st,{src:ct,alt:""}),Object(xe.jsx)(z.a,{variant:"h5",children:t})]})},st=B.b.img(d||(d=Object(U.a)(["\n  width: 100%;\n  margin-bottom: 30px;\n  max-width: 300px;\n"]))),ot=function(e){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency,minimumFractionDigits:2}).format(e.price);return Object(xe.jsx)(z.a,{variant:e.variant,children:t})},lt=function(e){var t=e.product,r=t.photoUrl,n=t.currency,a=t.title,c=t.price,i=t.id;return Object(xe.jsx)(N.b,{to:"/products/".concat(i),children:Object(xe.jsxs)(ut,{children:[Object(xe.jsx)(jt,{src:r}),Object(xe.jsxs)(dt,{children:[Object(xe.jsx)(pt,{variant:"h6",children:a}),Object(xe.jsx)(ot,{currency:n,price:c,variant:"h5"})]})]})})},ut=B.b.div(j||(j=Object(U.a)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  padding: 30px;\n  cursor: pointer;\n  align-items: flex-start;\n  border-radius: 10px;\n\n  &:hover {\n    background-color: #0000001c;\n  }\n\n  @media (max-width: 500px) {\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n  }\n"]))),dt=B.b.div(p||(p=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),jt=B.b.img(b||(b=Object(U.a)(["\n  width: 100%;\n  max-width: 150px;\n"]))),pt=Object(B.b)(z.a)(x||(x=Object(U.a)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  font-weight: 400;\n  margin-bottom: 10px;\n"]))),bt=function(){var e=Object(E.useState)([]),t=Object(H.a)(e,2),r=t[0],a=t[1],c=Object(E.useState)(!1),i=Object(H.a)(c,2),s=i[0],o=i[1],l=Object(E.useState)(""),u=Object(H.a)(l,2),d=u[0],j=u[1],p=function(){var e=Object(G.a)(q.a.mark((function e(){var t,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,n.getAllProducts();case 3:if(t=e.sent,r=t.data,c=t.error,o(!1),!r){e.next=11;break}return a(r),o(!1),e.abrupt("return");case 11:j(c||"Failed to fetch products"),o(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.useEffect)((function(){p()}),[]),s?Object(xe.jsx)(nt,{}):d?Object(xe.jsx)(it,{message:d}):Object(xe.jsx)(_.a,{display:"flex",flexDirection:"column",gridGap:"20px",children:r.map((function(e){return Object(xe.jsx)(lt,{product:e},e.id)}))})},xt=B.b.div(O||(O=Object(U.a)(["\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  gap: 50px;\n"]))),Ot=B.b.div(h||(h=Object(U.a)(["\n  display: flex;\n  gap: 50px;\n  align-items: flex-start;\n\n  @media (max-width: 500px) {\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),ht=B.b.img(m||(m=Object(U.a)(["\n  max-width: 300px;\n  width: 100%;\n"]))),mt=B.b.div(f||(f=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  @media (max-width: 500px) {\n    align-items: stretch;\n  }\n"]))),ft=function(){var e=Object(L.g)().id,t=Object(E.useContext)(me).authStatus,r=Object(E.useState)(!1),a=Object(H.a)(r,2),c=a[0],i=a[1],s=Object(E.useState)(""),o=Object(H.a)(s,2),l=o[0],u=o[1],d=Object(E.useState)(),j=Object(H.a)(d,2),p=j[0],b=j[1],x=Object(L.f)(),O=function(){var t=Object(G.a)(q.a.mark((function t(){var r,a,c;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,n.getProductById(parseInt(e));case 3:r=t.sent,a=r.data,"NOT_FOUND"===(null===(c=r.error)||void 0===c?void 0:c.code)&&u("Product not found"),a&&b(a),i(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(Object(E.useEffect)((function(){O()}),[]),c)return Object(xe.jsx)(nt,{});if(l||!p)return Object(xe.jsx)(it,{message:l});var h=p.description.split("\\n");return Object(xe.jsxs)(xt,{children:[Object(xe.jsxs)(Ot,{children:[Object(xe.jsx)(ht,{src:p.photoUrl,alt:p.title}),Object(xe.jsxs)(mt,{children:[Object(xe.jsx)(z.a,{style:{marginBottom:"10px"},variant:"h5",children:p.title}),Object(xe.jsx)(ot,{price:p.price,variant:"h4",currency:p.currency}),Object(xe.jsx)(W.a,{style:{marginTop:"20px"},variant:"contained",color:"primary",size:"large",onClick:function(){if("unauthenticated"===t)return x.push("/signIn"),-1;"authenticated"===t&&x.push("/checkout/".concat(p.id))},children:"Buy now"})]})]}),Object(xe.jsxs)(_.a,{children:[Object(xe.jsx)(z.a,{variant:"h6",style:{marginBottom:"10px"},children:"About this product"}),Object(xe.jsx)("ul",{children:h.map((function(e){return Object(xe.jsx)("li",{children:Object(xe.jsx)(z.a,{variant:"body1",children:e})})}))})]})]})},vt=Y.b().shape({fullName:Z,mobile:$.max(999999999999,"Phone number must not be greater than 12 digits").min(1e8,"Phone number must not be smaller than 8 digits"),shippingAddress:Z,city:Z,state:Z}),gt=function(){var e,t,r,a,c,i=Object(L.g)().id,s=Object(E.useContext)(Oe).open,o=Object(L.f)(),l=Object(J.d)({resolver:Object(K.a)(vt)}),u=l.register,d=l.handleSubmit,j=l.formState.errors,p=Object(E.useState)(!1),b=Object(H.a)(p,2),x=b[0],O=b[1],h=Object(E.useState)(""),m=Object(H.a)(h,2),f=m[0],v=m[1],g=Object(E.useState)(),y=Object(H.a)(g,2),w=y[0],S=y[1],k=function(){var e=Object(G.a)(q.a.mark((function e(){var t,r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,n.getProductById(parseInt(i));case 3:t=e.sent,r=t.data,"NOT_FOUND"===(null===(a=t.error)||void 0===a?void 0:a.code)&&v("Product not found"),r&&S(r),O(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(E.useEffect)((function(){k()}),[]),x)return Object(xe.jsx)(nt,{});if(f||!w)return Object(xe.jsx)(it,{message:f});var P=function(){var e=Object(G.a)(q.a.mark((function e(t){var r,a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,n.createOrder(Object(be.a)(Object(be.a)({},t),{},{productId:i,currency:"INR",qty:1}));case 3:r=e.sent,a=r.data,c=r.error,console.log(a,c),c&&(null===s||void 0===s||s((null===c||void 0===c?void 0:c.message)||c,"error")),a&&(null===s||void 0===s||s("Order placed successfully","success"),o.push("/orders")),O(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(xe.jsx)("form",{onSubmit:d(P),children:Object(xe.jsx)(_.a,{display:"flex",flexDirection:"column",justifyContent:"center",children:Object(xe.jsxs)(yt,{children:[Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"column",width:"100%",maxWidth:"600px",gridGap:"20px",children:[Object(xe.jsx)(R.a,{helperText:null===(e=j.fullName)||void 0===e?void 0:e.message,error:!!j.fullName,label:"Full Name",inputProps:u("fullName")}),Object(xe.jsx)(R.a,{helperText:null===(t=j.mobile)||void 0===t?void 0:t.message,error:!!j.mobile,label:"Mobile",inputProps:u("mobile")}),Object(xe.jsx)(R.a,{inputProps:u("shippingAddress"),helperText:null===(r=j.shippingAddress)||void 0===r?void 0:r.message,error:!!j.shippingAddress,label:"Flat, House no., Building, Company, Apartment"}),Object(xe.jsx)(R.a,{inputProps:u("city"),helperText:null===(a=j.city)||void 0===a?void 0:a.message,error:!!j.city,label:"City"}),Object(xe.jsx)(R.a,{inputProps:u("state"),helperText:null===(c=j.state)||void 0===c?void 0:c.message,error:!!j.state,label:"State"}),Object(xe.jsx)(W.a,{style:{marginTop:"30px"},variant:"contained",color:"primary",type:"submit",children:"Confirm order"})]}),Object(xe.jsxs)(_.a,{display:"flex",padding:"20px",flexDirection:"column",width:"100%",maxWidth:"400px",children:[Object(xe.jsx)(z.a,{variant:"body1",color:"textSecondary",style:{marginBottom:"30px"},children:"Price details"}),Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"column",gridGap:"10px",children:[Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(xe.jsx)(z.a,{variant:"body1",children:"Price 1 item"}),Object(xe.jsx)(ot,{price:w.price,currency:w.currency,variant:"body1"})]}),Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(xe.jsx)(z.a,{variant:"h6",children:"Total Payable"}),Object(xe.jsx)(ot,{price:w.price,currency:w.currency,variant:"h5"})]})]})]})]})})})},yt=B.b.div(v||(v=Object(U.a)(["\n  display: flex;\n  justify-content: center;\n  gap: 30px;\n\n  @media (max-width: 1100px) {\n    flex-direction: column-reverse;\n    text-align: center;\n    align-items: center;\n  }\n"]))),wt=function(e){var t=e.order,r=t.id,n=t.product,a=t.currency,c=t.pricePerItem,i=t.qty;return Object(xe.jsx)(N.b,{to:"/orders/".concat(r),children:Object(xe.jsxs)(St,{children:[Object(xe.jsx)(Pt,{src:n.photoUrl}),Object(xe.jsxs)(kt,{children:[Object(xe.jsx)(Ct,{variant:"h6",children:n.title}),Object(xe.jsx)(ot,{currency:a,price:c*i,variant:"h5"})]})]})})},St=B.b.div(g||(g=Object(U.a)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  padding: 30px;\n  cursor: pointer;\n  align-items: flex-start;\n  border-radius: 10px;\n\n  &:hover {\n    background-color: #0000001c;\n  }\n\n  @media (max-width: 500px) {\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n  }\n"]))),kt=B.b.div(y||(y=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Pt=B.b.img(w||(w=Object(U.a)(["\n  width: 100%;\n  max-width: 150px;\n"]))),Ct=Object(B.b)(z.a)(S||(S=Object(U.a)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  font-weight: 400;\n  margin-bottom: 10px;\n"]))),Nt=function(){var e=Object(E.useState)(),t=Object(H.a)(e,2),r=t[0],a=t[1],c=Object(E.useState)(!1),i=Object(H.a)(c,2),s=i[0],o=i[1],l=Object(E.useState)(""),u=Object(H.a)(l,2),d=u[0],j=(u[1],Object(E.useContext)(Oe).open),p=function(){var e=Object(G.a)(q.a.mark((function e(){var t,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,n.getMyOrders();case 3:t=e.sent,r=t.data,c=t.error,o(!1),r&&a(r),c&&(null===j||void 0===j||j(c.message||c||"Failed to fetch orders","error"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.useEffect)((function(){p()}),[]),s?Object(xe.jsx)(nt,{}):d||!r?Object(xe.jsx)(it,{message:d}):Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"column",children:[Object(xe.jsx)(z.a,{variant:"h5",children:"My Orders"}),Object(xe.jsx)(_.a,{children:r.map((function(e){return Object(xe.jsx)(wt,{order:e},e.id)}))})]})},It=function(){var e=Object(L.g)().id,t=Object(E.useState)(!1),r=Object(H.a)(t,2),a=r[0],c=r[1],i=Object(E.useState)(""),s=Object(H.a)(i,2),o=s[0],l=s[1],u=Object(E.useState)(),d=Object(H.a)(u,2),j=d[0],p=d[1],b=function(){var t=Object(G.a)(q.a.mark((function t(){var r,a,i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,n.getOrder(parseInt(e));case 3:r=t.sent,a=r.data,"NOT_FOUND"===(null===(i=r.error)||void 0===i?void 0:i.code)&&l("Product not found"),a&&p(a),c(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.useEffect)((function(){b()}),[]),a?Object(xe.jsx)(nt,{}):o||!j?Object(xe.jsx)(it,{message:o}):Object(xe.jsx)(_.a,{display:"flex",flexDirection:"column",justifyContent:"center",children:Object(xe.jsxs)(Tt,{children:[Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"column",width:"100%",maxWidth:"600px",gridGap:"20px",children:[Object(xe.jsx)(R.a,{value:j.fullName,disabled:!0,label:"Full Name"}),Object(xe.jsx)(R.a,{value:j.mobile,disabled:!0,label:"Mobile"}),Object(xe.jsx)(R.a,{value:j.shippingAddress,disabled:!0,label:"Flat, House no., Building, Company, Apartment"}),Object(xe.jsx)(R.a,{value:j.city,disabled:!0,label:"City"}),Object(xe.jsx)(R.a,{value:j.state,disabled:!0,label:"State"})]}),Object(xe.jsxs)(_.a,{display:"flex",padding:"20px",flexDirection:"column",width:"100%",maxWidth:"400px",children:[Object(xe.jsx)(z.a,{variant:"body1",color:"textSecondary",style:{marginBottom:"30px"},children:"Price details"}),Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"column",gridGap:"10px",children:[Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(xe.jsx)(z.a,{variant:"body1",children:"Price 1 item"}),Object(xe.jsx)(ot,{price:j.product.price,currency:j.product.currency,variant:"body1"})]}),Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(xe.jsx)(z.a,{variant:"h6",children:"Total Price"}),Object(xe.jsx)(ot,{price:j.product.price,currency:j.product.currency,variant:"h5"})]})]})]})]})})},Tt=B.b.div(k||(k=Object(U.a)(["\n  display: flex;\n  justify-content: center;\n  gap: 30px;\n\n  @media (max-width: 1100px) {\n    flex-direction: column-reverse;\n    text-align: center;\n    align-items: center;\n  }\n"]))),Dt=r.p+"static/media/404.41f69c59.svg",Ut=function(){return Object(xe.jsxs)(_.a,{display:"flex",flexDirection:"column",minHeight:"100vh",width:"100%",alignItems:"center",justifyContent:"center",children:[Object(xe.jsx)(Bt,{src:Dt,alt:""}),Object(xe.jsx)(z.a,{variant:"h5",style:{marginBottom:"30px",marginTop:"20px"},children:"Oops! Page not found"}),Object(xe.jsx)(N.b,{to:"/",children:Object(xe.jsx)(W.a,{variant:"contained",color:"primary",children:"go to home"})})]})},Bt=B.b.img(P||(P=Object(U.a)(["\n  width: 100%;\n  max-width: 500px;\n"]))),At=function(){var e=Object(E.useContext)(me).authStatus;return"loading"===e?Object(xe.jsx)(nt,{}):Object(xe.jsxs)(L.c,{children:[Object(xe.jsx)(L.a,{path:"/",exact:!0,children:Object(xe.jsx)(tt,{children:Object(xe.jsx)(bt,{})})}),"unauthenticated"===e&&Object(xe.jsx)(L.a,{path:"/signIn",exact:!0,children:Object(xe.jsx)(tt,{children:Object(xe.jsx)(ve,{})})}),"unauthenticated"===e&&Object(xe.jsx)(L.a,{path:"/signUp",exact:!0,children:Object(xe.jsx)(tt,{children:Object(xe.jsx)(ge,{})})}),Object(xe.jsx)(L.a,{path:"/products/:id",exact:!0,children:Object(xe.jsx)(tt,{children:Object(xe.jsx)(ft,{})})}),"authenticated"===e&&Object(xe.jsx)(L.a,{path:"/checkout/:id",exact:!0,children:Object(xe.jsx)(tt,{children:Object(xe.jsx)(gt,{})})}),"authenticated"===e&&Object(xe.jsx)(L.a,{path:"/orders",exact:!0,children:Object(xe.jsx)(tt,{children:Object(xe.jsx)(Nt,{})})}),"authenticated"===e&&Object(xe.jsx)(L.a,{path:"/orders/:id",exact:!0,children:Object(xe.jsx)(tt,{children:Object(xe.jsx)(It,{})})}),Object(xe.jsx)(L.a,{children:Object(xe.jsx)(Ut,{})})]})},Et=r(370),Ft=r(366),Lt=function(e){var t=Object(E.useContext)(Oe),r=t.isOpen,n=t.close,a=t.message,c=t.severity;return Object(xe.jsx)(Et.a,{open:r,anchorOrigin:{horizontal:"center",vertical:"top"},autoHideDuration:3e3,onClose:n,children:Object(xe.jsx)(Ft.a,{onClose:n,severity:c,children:a})})},Mt=function(){return Object(xe.jsxs)(I.a,{theme:D,children:[Object(xe.jsx)(Lt,{}),Object(xe.jsx)(A,{}),Object(xe.jsx)(fe,{children:Object(xe.jsx)(At,{})})]})};Object(C.render)(Object(xe.jsx)(he,{children:Object(xe.jsx)(N.a,{children:Object(xe.jsx)(Mt,{})})}),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.7ea74cfa.chunk.js.map